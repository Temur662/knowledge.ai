(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{767:(e,s,a)=>{"use strict";a.d(s,{$:()=>c});var t=a(5155),r=a(2115),i=a(4624),n=a(2085),l=a(4143);let d=(0,n.F)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-indigo-600 text-white hover:bg-indigo-700",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-indigo-600"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,s)=>{let{className:a,variant:r,size:n,asChild:c=!1,...o}=e,m=c?i.DX:"button";return(0,t.jsx)(m,{className:(0,l.cn)(d({variant:r,size:n,className:a})),ref:s,...o})});c.displayName="Button"},4143:(e,s,a)=>{"use strict";a.d(s,{cn:()=>i});var t=a(2596),r=a(9688);function i(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.QP)((0,t.$)(s))}},4247:(e,s,a)=>{Promise.resolve().then(a.bind(a,7821))},5695:(e,s,a)=>{"use strict";var t=a(8999);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}}),a.o(t,"useSelectedLayoutSegments")&&a.d(s,{useSelectedLayoutSegments:function(){return t.useSelectedLayoutSegments}})},7821:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(5155),r=a(2115),i=a(7864),n=a(6874),l=a.n(n),d=a(5695);function c(){let[e,s]=(0,r.useState)(null),[a,i]=(0,r.useState)(!0),[n,c]=(0,r.useState)(null),[o,m]=(0,r.useState)(null),x=(0,d.useSearchParams)().get("id");return(0,r.useEffect)(()=>{!async function(){try{let e=await fetch("/api/db-status");if(!e.ok)throw Error("Status ".concat(e.status,": ").concat(e.statusText));let a=await e.json();s(a),i(!1)}catch(e){c("Error checking database: ".concat(e instanceof Error?e.message:String(e))),i(!1)}}()},[]),(0,r.useEffect)(()=>{if(x)try{let e=sessionStorage.getItem("interviewHistory");if(e){let s=JSON.parse(e).find(e=>e.id===x);s&&m(s)}}catch(e){console.error("Error loading session details:",e)}},[x]),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:x?"Session Details":"Database Status"}),x&&o?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-indigo-50 p-6 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-indigo-900 mb-2",children:"Session Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"block text-sm font-medium text-gray-700",children:"Session ID"}),(0,t.jsx)("span",{className:"block text-gray-900",children:o.id})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"block text-sm font-medium text-gray-700",children:"Type"}),(0,t.jsx)("span",{className:"block text-gray-900 capitalize",children:o.type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"block text-sm font-medium text-gray-700",children:"Topic"}),(0,t.jsx)("span",{className:"block text-gray-900",children:o.topic})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"block text-sm font-medium text-gray-700",children:"Date"}),(0,t.jsx)("span",{className:"block text-gray-900",children:new Date(o.date).toLocaleString()})]})]})]}),o.feedback&&(0,t.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-green-900 mb-4",children:"Session Feedback"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:"Summary"}),(0,t.jsx)("p",{className:"text-gray-800",children:o.feedback.summary})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Strengths"}),(0,t.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:o.feedback.strengths.map((e,s)=>(0,t.jsx)("li",{className:"text-gray-800",children:e},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Areas for Improvement"}),(0,t.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:o.feedback.improvements.map((e,s)=>(0,t.jsx)("li",{className:"text-gray-800",children:e},s))})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("button",{onClick:()=>{let e=sessionStorage.getItem("interviewHistory");if(e)try{let s=JSON.parse(e);console.log("Full session history:",s),alert("Check browser console for full session data")}catch(e){console.error("Error parsing history:",e)}},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Debug Session Data"}),(0,t.jsx)(l(),{href:"/dashboard",className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Back to Dashboard"})]})]}):a?(0,t.jsx)("div",{className:"p-12 flex justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):n?(0,t.jsxs)("div",{className:"p-6 bg-red-50 text-red-700 rounded-lg",children:[(0,t.jsx)("p",{children:n}),(0,t.jsx)(l(),{href:"/dashboard",className:"mt-4 px-4 py-2 bg-red-600 text-white rounded inline-block hover:bg-red-700",children:"Back to Dashboard"})]}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg mb-6",children:[(0,t.jsxs)("p",{className:"text-green-800",children:["Database Status: ",null==e?void 0:e.status]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Storage Type: ",null==e?void 0:e.storage]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Total Interviews: ",(null==e?void 0:e.interviewCount)||0]})]}),(null==e?void 0:e.interviewCount)>0&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Sample Data"})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("pre",{className:"bg-gray-50 p-4 rounded text-sm overflow-auto max-h-64",children:JSON.stringify(null==e?void 0:e.sampleData,null,2)})})]}),(0,t.jsxs)("div",{className:"p-6 bg-blue-50 rounded-lg border border-blue-100",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-blue-800 mb-2",children:"Session Storage"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)("button",{onClick:()=>{let e=sessionStorage.getItem("interviewHistory");alert(e?"Interview History: ".concat(e):"No interview history found")},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Check Session Storage"})}),(0,t.jsx)("div",{children:(0,t.jsx)(l(),{href:"/dashboard",className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 inline-block",children:"Back to Dashboard"})})]})]})]})]})})}function o(){return(0,t.jsxs)("main",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(i.Y,{}),(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm p-6 flex justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})}),children:(0,t.jsx)(c,{})})]})}},7864:(e,s,a)=>{"use strict";a.d(s,{Y:()=>c});var t=a(5155),r=a(6874),i=a.n(r),n=a(2461),l=a(1976),d=a(767);function c(e){let{showBackButton:s=!1,backHref:a="/dashboard"}=e,{isSignedIn:r,user:c,isLoaded:o}=(0,l.Jd)();return(0,t.jsx)("header",{className:"bg-white border-b border-gray-200",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[s&&(0,t.jsx)(i(),{href:a,className:"mr-3 text-gray-600 hover:text-gray-900",children:(0,t.jsx)(n.A,{className:"h-5 w-5"})}),(0,t.jsx)(i(),{href:r?"/dashboard":"/",className:"text-xl font-semibold text-indigo-600 hover:text-indigo-800",children:"KnowledgeAI"})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:o?r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["Welcome, ",(null==c?void 0:c.firstName)||"User"]}),(0,t.jsx)(l.uF,{afterSignOutUrl:"/"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.$,{asChild:!0,variant:"outline",size:"sm",className:"hidden sm:flex",children:(0,t.jsx)(i(),{href:"/sign-in",children:"Sign In"})}),(0,t.jsx)(d.$,{asChild:!0,size:"sm",children:(0,t.jsx)(i(),{href:"/sign-up",children:"Sign Up"})}),(0,t.jsx)("div",{className:"sm:hidden",children:(0,t.jsx)(d.$,{asChild:!0,variant:"outline",size:"sm",children:(0,t.jsx)(i(),{href:"/sign-in",className:"text-xs",children:"Sign In"})})})]}):(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-gray-200 animate-pulse"})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[976,41,441,684,358],()=>s(4247)),_N_E=e.O()}]);