(()=>{var e={};e.id=660,e.ids=[660],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13769:(e,t,r)=>{"use strict";r.d(t,{WM:()=>o,gu:()=>i,hN:()=>n,ll:()=>a}),global.interviewsDb||(global.interviewsDb=[]);let s=global.interviewsDb;function n(){return[...s]}function i(e){return s.find(t=>t.id===e)}function a(e,t){let r=s.findIndex(t=>t.id===e);return -1!==r&&(s[r]={...s[r],...t},!0)}function o(e){let t=`interview-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,r={id:t,...e,date:new Date().toISOString(),messages:[],feedback:null};return s.push(r),console.log(`Created interview: ${t}. Total interviews: ${s.length}`),r}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},45941:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>q,routeModule:()=>h,serverHooks:()=>k,workAsyncStorage:()=>f,workUnitAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{POST:()=>y});var n=r(96559),i=r(48088),a=r(37719),o=r(32190),u=r(90200),l=r(93800),c=r(70523),d=r(44335);let p=new(require("node:async_hooks")).AsyncLocalStorage;var v=r(23855);let w=async()=>{var e,t;let r;try{let e=await (0,l.TG)(),t=(0,d._b)(e,u.AA.Headers.ClerkRequestData);r=(0,v.Kk)(t)}catch(e){if(e&&(0,l.Sz)(e))throw e}let s=null!=(t=null==(e=p.getStore())?void 0:e.get("requestData"))?t:r;return(null==s?void 0:s.secretKey)||(null==s?void 0:s.publishableKey)?(0,c.n)(s):(0,c.n)({})};var g=r(60166);async function x(){r(34822);let{userId:e}=await (0,g.j)();return e?(await w()).users.getUser(e):null}var b=r(13769);async function y(e){try{let t=await x(),r=t?.id,s=await e.json(),n=(0,b.WM)({userId:r||s.userId||"anonymous",userName:t?.firstName||"User",type:s.type,topic:s.topic,details:s.details||{},notes:s.notes||""});return o.NextResponse.json({interviewId:n.id,success:!0})}catch(e){return console.error("Error creating interview:",e),o.NextResponse.json({error:"Failed to create interview"},{status:500})}}global.interviewsDb||(global.interviewsDb=[]),global.interviewsDb;let h=new n.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/create-interview/route",pathname:"/api/create-interview",filename:"route",bundlePath:"app/api/create-interview/route"},resolvedPagePath:"/Users/ahmadbasyouni/knowledge.ai/app/api/create-interview/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:f,workUnitAsyncStorage:m,serverHooks:k}=h;function q(){return(0,a.patchFetch)({workAsyncStorage:f,workUnitAsyncStorage:m})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},78335:()=>{},96487:()=>{},96559:(e,t,r)=>{"use strict";e.exports=r(44870)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[80,416],()=>r(45941));module.exports=s})();